{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport MarkdownIt from 'markdown-it';\nimport { memo, useMemo } from 'react';\nimport 'github-markdown-css';\nconst md = new MarkdownIt({\n  html: true,\n  // Enable HTML tags in source\n  linkify: true // Autoconvert URL-like text to links\n\n}); //只用atob中文会乱码\n\nfunction b64_to_utf8(str) {\n  return decodeURIComponent(escape(atob(str)));\n} //memo props不变化不重新渲染\n\n\nexport default memo(function MarkdownRenderer({\n  content,\n  isBase64\n}) {\n  const markdown = isBase64 ? b64_to_utf8(content) : content;\n  const html = useMemo(() => md.render(markdown), [markdown]);\n  return __jsx(\"div\", {\n    className: \"markdown-body\"\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: html\n    }\n  }));\n});","map":{"version":3,"sources":["D:/编程/项目/next项目/next-github/components/Markdown.jsx"],"names":["MarkdownIt","memo","useMemo","md","html","linkify","b64_to_utf8","str","decodeURIComponent","escape","atob","MarkdownRenderer","content","isBase64","markdown","render","__html"],"mappings":";;AAAA,OAAOA,UAAP,MAAuB,aAAvB;AACA,SAASC,IAAT,EAAeC,OAAf,QAA8B,OAA9B;AACA,OAAO,qBAAP;AAEA,MAAMC,EAAE,GAAG,IAAIH,UAAJ,CAAe;AACzBI,EAAAA,IAAI,EAAE,IADmB;AACb;AACZC,EAAAA,OAAO,EAAE,IAFgB,CAEX;;AAFW,CAAf,CAAX,C,CAIA;;AACA,SAASC,WAAT,CAAqBC,GAArB,EAA0B;AACzB,SAAOC,kBAAkB,CAACC,MAAM,CAACC,IAAI,CAACH,GAAD,CAAL,CAAP,CAAzB;AACA,C,CAED;;;AACA,eAAeN,IAAI,CAAC,SAASU,gBAAT,CAA0B;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAA1B,EAAiD;AACpE,QAAMC,QAAQ,GAAGD,QAAQ,GAAGP,WAAW,CAACM,OAAD,CAAd,GAA0BA,OAAnD;AAEA,QAAMR,IAAI,GAAGF,OAAO,CAAC,MAAMC,EAAE,CAACY,MAAH,CAAUD,QAAV,CAAP,EAA4B,CAACA,QAAD,CAA5B,CAApB;AAEA,SACC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC;AAAK,IAAA,uBAAuB,EAAE;AAAEE,MAAAA,MAAM,EAAEZ;AAAV;AAA9B,IADD,CADD;AAKA,CAVkB,CAAnB","sourcesContent":["import MarkdownIt from 'markdown-it'\r\nimport { memo, useMemo } from 'react'\r\nimport 'github-markdown-css'\r\n\r\nconst md = new MarkdownIt({\r\n\thtml: true, // Enable HTML tags in source\r\n\tlinkify: true // Autoconvert URL-like text to links\r\n});\r\n//只用atob中文会乱码\r\nfunction b64_to_utf8(str) {\r\n\treturn decodeURIComponent(escape(atob(str)))\r\n}\r\n\r\n//memo props不变化不重新渲染\r\nexport default memo(function MarkdownRenderer({ content, isBase64 }) {\r\n\tconst markdown = isBase64 ? b64_to_utf8(content) : content;\r\n\r\n\tconst html = useMemo(() => md.render(markdown), [markdown]);\r\n\r\n\treturn (\r\n\t\t<div className=\"markdown-body\">\r\n\t\t\t<div dangerouslySetInnerHTML={{ __html: html }} />\r\n\t\t</div>\r\n\t)\r\n})"]},"metadata":{},"sourceType":"module"}