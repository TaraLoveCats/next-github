{"ast":null,"code":"var _regeneratorRuntime = require(\"@babel/runtime-corejs2/regenerator\");\n\nvar _JSON$stringify = require(\"@babel/runtime-corejs2/core-js/json/stringify\");\n\nvar axios = require('axios');\n\nvar isServer = false;\n\nvar colorsJson = require('../colors.json');\n\nfunction request(_ref) {\n  var _ref$method, method, url, colors;\n\n  return _regeneratorRuntime.async(function request$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _ref$method = _ref.method, method = _ref$method === void 0 ? 'GET' : _ref$method, url = _ref.url;\n\n          if (url) {\n            _context.next = 3;\n            break;\n          }\n\n          throw Error('url must be provided');\n\n        case 3:\n          if (!isServer) {\n            _context.next = 8;\n            break;\n          }\n\n          colors = JSON.parse(_JSON$stringify(colorsJson));\n          return _context.abrupt(\"return\", colors);\n\n        case 8:\n          _context.next = 10;\n          return _regeneratorRuntime.awrap(axios({\n            method: method,\n            url: url\n          }));\n\n        case 10:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n}\n\nmodule.exports = {\n  request: request\n};","map":{"version":3,"sources":["D:/编程/项目/next项目/next-github/lib/json.js"],"names":["axios","require","isServer","colorsJson","request","method","url","Error","colors","JSON","parse","module","exports"],"mappings":";;;;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAMC,QAAQ,QAAd;;AACA,IAAMC,UAAU,GAAGF,OAAO,CAAC,gBAAD,CAA1B;;AAEA,SAAeG,OAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAyBC,MAAzB,EAAyBA,MAAzB,4BAAkC,KAAlC,gBAAyCC,GAAzC,QAAyCA,GAAzC;;AAAA,cACSA,GADT;AAAA;AAAA;AAAA;;AAAA,gBAEcC,KAAK,CAAC,sBAAD,CAFnB;;AAAA;AAAA,eAIQL,QAJR;AAAA;AAAA;AAAA;;AAKcM,UAAAA,MALd,GAKuBC,IAAI,CAACC,KAAL,CAAW,gBAAeP,UAAf,CAAX,CALvB;AAAA,2CAMeK,MANf;;AAAA;AAAA;AAAA,2CASqBR,KAAK,CAAC;AACfK,YAAAA,MAAM,EAANA,MADe;AAEfC,YAAAA,GAAG,EAAHA;AAFe,WAAD,CAT1B;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAgBAK,MAAM,CAACC,OAAP,GAAiB;AACbR,EAAAA,OAAO,EAAPA;AADa,CAAjB","sourcesContent":["const axios = require('axios')\r\nconst isServer = typeof window === 'undefined';\r\nconst colorsJson = require('../colors.json')\r\n\r\nasync function request({ method = 'GET', url }) {\r\n    if (!url) {\r\n        throw Error('url must be provided')\r\n    }\r\n    if (isServer) {\r\n        const colors = JSON.parse(JSON.stringify(colorsJson));\r\n        return colors;\r\n    } else {\r\n        //`http://localhost:3000/${url}`\r\n        return await axios({\r\n            method,\r\n            url\r\n        });\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    request\r\n}"]},"metadata":{},"sourceType":"script"}