{"ast":null,"code":"import _Tooltip from \"antd/lib/tooltip\";\nimport _Dropdown from \"antd/lib/dropdown\";\nimport _Avatar from \"antd/lib/avatar\";\nimport _Input from \"antd/lib/input\";\nimport _Icon from \"antd/lib/icon\";\nimport _Menu from \"antd/lib/menu\";\nimport _Layout from \"antd/lib/layout\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useState, useCallback } from 'react';\nimport Container from './Container';\nimport { useSelector, useDispatch } from 'react-redux';\nimport getConfig from 'next/config';\nimport { logout } from '../store/store';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nconst {\n  publicRuntimeConfig\n} = getConfig();\nconst {\n  Header,\n  Content,\n  Footer\n} = _Layout;\nconst footerStyle = {\n  textAlign: 'center'\n};\nconst githubIconStyle = {\n  color: '#fff',\n  fontSize: 40,\n  display: 'block',\n  paddingTop: 10,\n  marginRight: 20\n};\n\nconst AppLayout = ({\n  children\n}) => {\n  const {\n    0: search,\n    1: setSearch\n  } = useState('');\n  const user = useSelector(state => state.user);\n  const dispatch = useDispatch();\n\n  const handleSearchChange = e => {\n    setSearch(e.target.value);\n  };\n\n  const handleOnSearch = e => {};\n\n  const handleGotoOAuth = e => {\n    e.preventDefault();\n    axios.get(`/prepare-auth?url=${useRouter().asPath}`).then(resp => {\n      if (resp.status === 200) {\n        location.href = publicRuntimeConfig.OAUTH_URL;\n      } else {\n        console.log('prepare auth failed', resp);\n      }\n    }).catch(err => {\n      console.log('prepare auth failed', err);\n    });\n  }; // const handleLogout = useCallback(() => {\n  //     dispatch(logout())\n  // },[])\n\n\n  const handleLogout = () => {\n    dispatch(logout());\n  };\n\n  const userDropdown = __jsx(_Menu, {\n    onClick: handleLogout\n  }, __jsx(_Menu.Item, null, \"\\u767B\\u51FA\"));\n\n  return __jsx(_Layout, null, __jsx(Header, null, __jsx(Container, {\n    renderer: __jsx(\"div\", {\n      className: \"jsx-648115812\" + \" \" + \"header-inner\"\n    })\n  }, __jsx(\"div\", {\n    className: \"jsx-648115812\" + \" \" + \"header-left\"\n  }, __jsx(\"div\", {\n    className: \"jsx-648115812\" + \" \" + \"logo\"\n  }, __jsx(_Icon, {\n    type: \"github\",\n    style: githubIconStyle\n  })), __jsx(\"div\", {\n    className: \"jsx-648115812\"\n  }, __jsx(_Input.Search, {\n    placeholder: \"\\u641C\\u7D22\\u6216\\u8DF3\\u8F6C...\",\n    value: search,\n    onChange: handleSearchChange,\n    onSearch: handleOnSearch\n  }))), __jsx(\"div\", {\n    className: \"jsx-648115812\" + \" \" + \"header-right\"\n  }, __jsx(\"div\", {\n    className: \"jsx-648115812\" + \" \" + \"user\"\n  }, user && user.id ? __jsx(_Dropdown, {\n    overlay: userDropdown\n  }, __jsx(_Avatar, {\n    size: 40,\n    src: user.avatar_url\n  })) : __jsx(_Tooltip, {\n    title: \"\\u70B9\\u51FB\\u767B\\u5F55\"\n  }, __jsx(\"a\", {\n    href: `/prepare-auth?url=${useRouter().asPath}`,\n    className: \"jsx-648115812\"\n  }, __jsx(_Avatar, {\n    size: 40,\n    icon: \"user\"\n  }))))))), __jsx(Content, null, __jsx(Container, null, children)), __jsx(Footer, {\n    style: footerStyle\n  }, \"Hello Tara@\", __jsx(\"a\", {\n    href: \"mailto:taralovecats@163.com\",\n    className: \"jsx-648115812\"\n  }, \"taralovecats@163.com\")), __jsx(_JSXStyle, {\n    id: \"4172506159\"\n  }, \".header-inner.jsx-648115812{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}.header-left.jsx-648115812{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;display:flex-start;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFznvJbnqItcXOmhueebrlxcbmV4dOmhueebrlxcbmV4dC1naXRodWJcXGNvbXBvbmVudHNcXExheW91dC5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBOEd3QixBQUdrQyxBQUlBLDBFQUhpQixBQUlYLG1CQUN2QixnR0FKQSIsImZpbGUiOiJEOlxc57yW56iLXFzpobnnm65cXG5leHTpobnnm65cXG5leHQtZ2l0aHViXFxjb21wb25lbnRzXFxMYXlvdXQuanN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJ1xyXG5pbXBvcnQgeyBMYXlvdXQsIElucHV0LCBJY29uLCBBdmF0YXIsIFRvb2x0aXAsIERyb3Bkb3duLCBNZW51IH0gZnJvbSAnYW50ZCdcclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi9Db250YWluZXInXHJcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xyXG5pbXBvcnQgZ2V0Q29uZmlnIGZyb20gJ25leHQvY29uZmlnJ1xyXG5pbXBvcnQgeyBsb2dvdXQgfSBmcm9tICcuLi9zdG9yZS9zdG9yZSdcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXJ9IGZyb20gJ25leHQvcm91dGVyJ1xyXG5cclxuY29uc3QgeyBwdWJsaWNSdW50aW1lQ29uZmlnIH0gPSBnZXRDb25maWcoKVxyXG5jb25zdCB7IEhlYWRlciwgQ29udGVudCwgRm9vdGVyIH0gPSBMYXlvdXRcclxuY29uc3QgZm9vdGVyU3R5bGUgPSB7XHJcbiAgICB0ZXh0QWxpZ246ICdjZW50ZXInXHJcbn1cclxuY29uc3QgZ2l0aHViSWNvblN0eWxlID0ge1xyXG4gICAgY29sb3I6ICcjZmZmJyxcclxuICAgIGZvbnRTaXplOiA0MCxcclxuICAgIGRpc3BsYXk6ICdibG9jaycsXHJcbiAgICBwYWRkaW5nVG9wOiAxMCxcclxuICAgIG1hcmdpblJpZ2h0OiAyMCxcclxufVxyXG5cclxuY29uc3QgQXBwTGF5b3V0ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xyXG4gICAgY29uc3QgW3NlYXJjaCwgc2V0U2VhcmNoXSA9IHVzZVN0YXRlKCcnKVxyXG4gICAgY29uc3QgdXNlciA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLnVzZXIpXHJcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKClcclxuXHJcbiAgICBjb25zdCBoYW5kbGVTZWFyY2hDaGFuZ2UgPSAoZSkgPT4ge1xyXG4gICAgICAgIHNldFNlYXJjaChlLnRhcmdldC52YWx1ZSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBoYW5kbGVPblNlYXJjaCA9IChlKSA9PiB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaGFuZGxlR290b09BdXRoID0gKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBheGlvcy5nZXQoYC9wcmVwYXJlLWF1dGg/dXJsPSR7dXNlUm91dGVyKCkuYXNQYXRofWApXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gcHVibGljUnVudGltZUNvbmZpZy5PQVVUSF9VUkxcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3ByZXBhcmUgYXV0aCBmYWlsZWQnLCByZXNwKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcmVwYXJlIGF1dGggZmFpbGVkJywgZXJyKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgIH1cclxuICAgIC8vIGNvbnN0IGhhbmRsZUxvZ291dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIC8vICAgICBkaXNwYXRjaChsb2dvdXQoKSlcclxuICAgIC8vIH0sW10pXHJcbiAgICBjb25zdCBoYW5kbGVMb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgZGlzcGF0Y2gobG9nb3V0KCkpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXNlckRyb3Bkb3duID0gKFxyXG4gICAgICAgIDxNZW51IG9uQ2xpY2s9e2hhbmRsZUxvZ291dH0+IFxyXG4gICAgICAgICAgICA8TWVudS5JdGVtPlxyXG4gICAgICAgICAgICAgICAg55m75Ye6XHJcbiAgICAgICAgICAgIDwvTWVudS5JdGVtPlxyXG4gICAgICAgIDwvTWVudT5cclxuICAgIClcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxMYXlvdXQ+XHJcbiAgICAgICAgICAgIDxIZWFkZXI+XHJcbiAgICAgICAgICAgICAgICA8Q29udGFpbmVyIHJlbmRlcmVyPXs8ZGl2IGNsYXNzTmFtZT1cImhlYWRlci1pbm5lclwiLz59PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPExpbmsgaHJlZj1cIi9cIj4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gdHlwZT1cImdpdGh1YlwiIHN0eWxlPXtnaXRodWJJY29uU3R5bGV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPC9MaW5rPiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuU2VhcmNoIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5pCc57Si5oiW6Lez6L2sLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVTZWFyY2hDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9e2hhbmRsZU9uU2VhcmNofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlciAmJiB1c2VyLmlkID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93biBvdmVybGF5PXt1c2VyRHJvcGRvd259PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyIHNpemU9ezQwfSBzcmM9e3VzZXIuYXZhdGFyX3VybH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcCB0aXRsZT1cIueCueWHu+eZu+W9lVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXtgL3ByZXBhcmUtYXV0aD91cmw9JHt1c2VSb3V0ZXIoKS5hc1BhdGh9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyIHNpemU9ezQwfSBpY29uPVwidXNlclwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgICAgICAgICA8L0hlYWRlcj5cclxuICAgICAgICAgICAgPENvbnRlbnQ+XHJcbiAgICAgICAgICAgICAgICB7Lyog5pS55Y+Y57uE5Lu255qE5riy5p+T57G75Z6L77yM5LiN6IO95oyH5a6acHJvcHMgKi99XHJcbiAgICAgICAgICAgICAgICB7LyogPENvbnRhaW5lciBjb21wPVwiZGl2XCI+e2NoaWxkcmVufTwvQ29udGFpbmVyPiAqL31cclxuICAgICAgICAgICAgICAgIDxDb250YWluZXIgPntjaGlsZHJlbn08L0NvbnRhaW5lcj5cclxuICAgICAgICAgICAgPC9Db250ZW50PlxyXG4gICAgICAgICAgICA8Rm9vdGVyIHN0eWxlPXtmb290ZXJTdHlsZX0+XHJcbiAgICAgICAgICAgICAgICBIZWxsbyBUYXJhQDxhIGhyZWY9XCJtYWlsdG86dGFyYWxvdmVjYXRzQDE2My5jb21cIj50YXJhbG92ZWNhdHNAMTYzLmNvbTwvYT5cclxuICAgICAgICAgICAgPC9Gb290ZXI+XHJcbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgICAgIC5oZWFkZXItaW5uZXIge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLmhlYWRlci1sZWZ0IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXgtc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGB9PC9zdHlsZT4gIFxyXG4gICAgICAgICAgICA8c3R5bGUganN4IGdsb2JhbD57YFxyXG4gICAgICAgICAgICAgICAgI19fbmV4dCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLmFudC1sYXlvdXQge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC5hbnQtbGF5b3V0LWhlYWRlciB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYH08L3N0eWxlPlxyXG4gICAgICAgIDwvTGF5b3V0PlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcHBMYXlvdXRcclxuXHJcbiJdfQ== */\\n/*@ sourceURL=D:\\\\\\\\\\u7F16\\u7A0B\\\\\\\\\\u9879\\u76EE\\\\\\\\next\\u9879\\u76EE\\\\\\\\next-github\\\\\\\\components\\\\\\\\Layout.jsx */\"), __jsx(_JSXStyle, {\n    id: \"2158678626\"\n  }, \"#__next{height:100%;}.ant-layout{height:100%;}.ant-layout-header{padding-left:0, padding-right:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFznvJbnqItcXOmhueebrlxcbmV4dOmhueebrlxcbmV4dC1naXRodWJcXGNvbXBvbmVudHNcXExheW91dC5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBd0grQixBQUdpQyxBQUdBLEFBS2pCLFlBUEMsQUFHQSxvQkFJQSIsImZpbGUiOiJEOlxc57yW56iLXFzpobnnm65cXG5leHTpobnnm65cXG5leHQtZ2l0aHViXFxjb21wb25lbnRzXFxMYXlvdXQuanN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJ1xyXG5pbXBvcnQgeyBMYXlvdXQsIElucHV0LCBJY29uLCBBdmF0YXIsIFRvb2x0aXAsIERyb3Bkb3duLCBNZW51IH0gZnJvbSAnYW50ZCdcclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi9Db250YWluZXInXHJcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xyXG5pbXBvcnQgZ2V0Q29uZmlnIGZyb20gJ25leHQvY29uZmlnJ1xyXG5pbXBvcnQgeyBsb2dvdXQgfSBmcm9tICcuLi9zdG9yZS9zdG9yZSdcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXJ9IGZyb20gJ25leHQvcm91dGVyJ1xyXG5cclxuY29uc3QgeyBwdWJsaWNSdW50aW1lQ29uZmlnIH0gPSBnZXRDb25maWcoKVxyXG5jb25zdCB7IEhlYWRlciwgQ29udGVudCwgRm9vdGVyIH0gPSBMYXlvdXRcclxuY29uc3QgZm9vdGVyU3R5bGUgPSB7XHJcbiAgICB0ZXh0QWxpZ246ICdjZW50ZXInXHJcbn1cclxuY29uc3QgZ2l0aHViSWNvblN0eWxlID0ge1xyXG4gICAgY29sb3I6ICcjZmZmJyxcclxuICAgIGZvbnRTaXplOiA0MCxcclxuICAgIGRpc3BsYXk6ICdibG9jaycsXHJcbiAgICBwYWRkaW5nVG9wOiAxMCxcclxuICAgIG1hcmdpblJpZ2h0OiAyMCxcclxufVxyXG5cclxuY29uc3QgQXBwTGF5b3V0ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xyXG4gICAgY29uc3QgW3NlYXJjaCwgc2V0U2VhcmNoXSA9IHVzZVN0YXRlKCcnKVxyXG4gICAgY29uc3QgdXNlciA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLnVzZXIpXHJcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKClcclxuXHJcbiAgICBjb25zdCBoYW5kbGVTZWFyY2hDaGFuZ2UgPSAoZSkgPT4ge1xyXG4gICAgICAgIHNldFNlYXJjaChlLnRhcmdldC52YWx1ZSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBoYW5kbGVPblNlYXJjaCA9IChlKSA9PiB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaGFuZGxlR290b09BdXRoID0gKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBheGlvcy5nZXQoYC9wcmVwYXJlLWF1dGg/dXJsPSR7dXNlUm91dGVyKCkuYXNQYXRofWApXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gcHVibGljUnVudGltZUNvbmZpZy5PQVVUSF9VUkxcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3ByZXBhcmUgYXV0aCBmYWlsZWQnLCByZXNwKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcmVwYXJlIGF1dGggZmFpbGVkJywgZXJyKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgIH1cclxuICAgIC8vIGNvbnN0IGhhbmRsZUxvZ291dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIC8vICAgICBkaXNwYXRjaChsb2dvdXQoKSlcclxuICAgIC8vIH0sW10pXHJcbiAgICBjb25zdCBoYW5kbGVMb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgZGlzcGF0Y2gobG9nb3V0KCkpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXNlckRyb3Bkb3duID0gKFxyXG4gICAgICAgIDxNZW51IG9uQ2xpY2s9e2hhbmRsZUxvZ291dH0+IFxyXG4gICAgICAgICAgICA8TWVudS5JdGVtPlxyXG4gICAgICAgICAgICAgICAg55m75Ye6XHJcbiAgICAgICAgICAgIDwvTWVudS5JdGVtPlxyXG4gICAgICAgIDwvTWVudT5cclxuICAgIClcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxMYXlvdXQ+XHJcbiAgICAgICAgICAgIDxIZWFkZXI+XHJcbiAgICAgICAgICAgICAgICA8Q29udGFpbmVyIHJlbmRlcmVyPXs8ZGl2IGNsYXNzTmFtZT1cImhlYWRlci1pbm5lclwiLz59PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPExpbmsgaHJlZj1cIi9cIj4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gdHlwZT1cImdpdGh1YlwiIHN0eWxlPXtnaXRodWJJY29uU3R5bGV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogPC9MaW5rPiAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXQuU2VhcmNoIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5pCc57Si5oiW6Lez6L2sLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVTZWFyY2hDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWFyY2g9e2hhbmRsZU9uU2VhcmNofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlciAmJiB1c2VyLmlkID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEcm9wZG93biBvdmVybGF5PXt1c2VyRHJvcGRvd259PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyIHNpemU9ezQwfSBzcmM9e3VzZXIuYXZhdGFyX3VybH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcCB0aXRsZT1cIueCueWHu+eZu+W9lVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXtgL3ByZXBhcmUtYXV0aD91cmw9JHt1c2VSb3V0ZXIoKS5hc1BhdGh9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyIHNpemU9ezQwfSBpY29uPVwidXNlclwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgICAgICAgICA8L0hlYWRlcj5cclxuICAgICAgICAgICAgPENvbnRlbnQ+XHJcbiAgICAgICAgICAgICAgICB7Lyog5pS55Y+Y57uE5Lu255qE5riy5p+T57G75Z6L77yM5LiN6IO95oyH5a6acHJvcHMgKi99XHJcbiAgICAgICAgICAgICAgICB7LyogPENvbnRhaW5lciBjb21wPVwiZGl2XCI+e2NoaWxkcmVufTwvQ29udGFpbmVyPiAqL31cclxuICAgICAgICAgICAgICAgIDxDb250YWluZXIgPntjaGlsZHJlbn08L0NvbnRhaW5lcj5cclxuICAgICAgICAgICAgPC9Db250ZW50PlxyXG4gICAgICAgICAgICA8Rm9vdGVyIHN0eWxlPXtmb290ZXJTdHlsZX0+XHJcbiAgICAgICAgICAgICAgICBIZWxsbyBUYXJhQDxhIGhyZWY9XCJtYWlsdG86dGFyYWxvdmVjYXRzQDE2My5jb21cIj50YXJhbG92ZWNhdHNAMTYzLmNvbTwvYT5cclxuICAgICAgICAgICAgPC9Gb290ZXI+XHJcbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgICAgIC5oZWFkZXItaW5uZXIge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLmhlYWRlci1sZWZ0IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXgtc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGB9PC9zdHlsZT4gIFxyXG4gICAgICAgICAgICA8c3R5bGUganN4IGdsb2JhbD57YFxyXG4gICAgICAgICAgICAgICAgI19fbmV4dCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLmFudC1sYXlvdXQge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC5hbnQtbGF5b3V0LWhlYWRlciB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYH08L3N0eWxlPlxyXG4gICAgICAgIDwvTGF5b3V0PlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcHBMYXlvdXRcclxuXHJcbiJdfQ== */\\n/*@ sourceURL=D:\\\\\\\\\\u7F16\\u7A0B\\\\\\\\\\u9879\\u76EE\\\\\\\\next\\u9879\\u76EE\\\\\\\\next-github\\\\\\\\components\\\\\\\\Layout.jsx */\"));\n};\n\nexport default AppLayout;","map":{"version":3,"sources":["D:/编程/项目/next项目/next-github/components/Layout.jsx"],"names":["Link","useState","useCallback","Container","useSelector","useDispatch","getConfig","logout","axios","useRouter","publicRuntimeConfig","Header","Content","Footer","footerStyle","textAlign","githubIconStyle","color","fontSize","display","paddingTop","marginRight","AppLayout","children","search","setSearch","user","state","dispatch","handleSearchChange","e","target","value","handleOnSearch","handleGotoOAuth","preventDefault","get","asPath","then","resp","status","location","href","OAUTH_URL","console","log","catch","err","handleLogout","userDropdown","id","avatar_url"],"mappings":"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","sourcesContent":["import Link from 'next/link'\r\nimport { Layout, Input, Icon, Avatar, Tooltip, Dropdown, Menu } from 'antd'\r\nimport { useState, useCallback } from 'react'\r\nimport Container from './Container'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport getConfig from 'next/config'\r\nimport { logout } from '../store/store'\r\nimport axios from 'axios'\r\nimport { useRouter} from 'next/router'\r\n\r\nconst { publicRuntimeConfig } = getConfig()\r\nconst { Header, Content, Footer } = Layout\r\nconst footerStyle = {\r\n    textAlign: 'center'\r\n}\r\nconst githubIconStyle = {\r\n    color: '#fff',\r\n    fontSize: 40,\r\n    display: 'block',\r\n    paddingTop: 10,\r\n    marginRight: 20,\r\n}\r\n\r\nconst AppLayout = ({ children }) => {\r\n    const [search, setSearch] = useState('')\r\n    const user = useSelector(state => state.user)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSearchChange = (e) => {\r\n        setSearch(e.target.value)\r\n    }\r\n\r\n    const handleOnSearch = (e) => {\r\n        \r\n    }\r\n\r\n    const handleGotoOAuth = (e) => {\r\n        e.preventDefault()\r\n        axios.get(`/prepare-auth?url=${useRouter().asPath}`)\r\n            .then(resp => {\r\n                if (resp.status === 200) {\r\n                    location.href = publicRuntimeConfig.OAUTH_URL\r\n                } else {\r\n                 console.log('prepare auth failed', resp)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log('prepare auth failed', err)\r\n            })\r\n            \r\n    }\r\n    // const handleLogout = useCallback(() => {\r\n    //     dispatch(logout())\r\n    // },[])\r\n    const handleLogout = () => {\r\n        dispatch(logout())\r\n    }\r\n\r\n    const userDropdown = (\r\n        <Menu onClick={handleLogout}> \r\n            <Menu.Item>\r\n                登出\r\n            </Menu.Item>\r\n        </Menu>\r\n    )\r\n\r\n    return (\r\n        <Layout>\r\n            <Header>\r\n                <Container renderer={<div className=\"header-inner\"/>}>\r\n                    <div className=\"header-left\">\r\n                        <div className=\"logo\">\r\n                            {/* <Link href=\"/\"> */}\r\n                                <Icon type=\"github\" style={githubIconStyle} />\r\n                            {/* </Link> */}\r\n                        </div>\r\n                        <div>\r\n                            <Input.Search \r\n                                placeholder=\"搜索或跳转...\"\r\n                                value={search}\r\n                                onChange={handleSearchChange}\r\n                                onSearch={handleOnSearch}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"header-right\">\r\n                        <div className=\"user\">\r\n                            {user && user.id ? (\r\n                                <Dropdown overlay={userDropdown}>\r\n                                    <Avatar size={40} src={user.avatar_url} />\r\n                                </Dropdown>\r\n                            ) : (\r\n                                <Tooltip title=\"点击登录\">\r\n                                    <a href={`/prepare-auth?url=${useRouter().asPath}`}>\r\n                                        <Avatar size={40} icon=\"user\" />\r\n                                    </a>\r\n                                </Tooltip>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </Container>\r\n            </Header>\r\n            <Content>\r\n                {/* 改变组件的渲染类型，不能指定props */}\r\n                {/* <Container comp=\"div\">{children}</Container> */}\r\n                <Container >{children}</Container>\r\n            </Content>\r\n            <Footer style={footerStyle}>\r\n                Hello Tara@<a href=\"mailto:taralovecats@163.com\">taralovecats@163.com</a>\r\n            </Footer>\r\n            <style jsx>{`\r\n                .header-inner {\r\n                    display: flex;\r\n                    justify-content: space-between;\r\n                }\r\n                .header-left {\r\n                    display: flex;\r\n                    display: flex-start;\r\n                }\r\n            `}</style>  \r\n            <style jsx global>{`\r\n                #__next {\r\n                    height: 100%;\r\n                }\r\n                .ant-layout {\r\n                    height: 100%;\r\n                }\r\n                .ant-layout-header {\r\n                    padding-left: 0,\r\n                    padding-right: 0\r\n                }\r\n            `}</style>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default AppLayout\r\n\r\n"]},"metadata":{},"sourceType":"module"}