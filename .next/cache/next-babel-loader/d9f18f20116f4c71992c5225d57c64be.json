{"ast":null,"code":"import _Spin from \"antd/lib/spin\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n// import App from 'next/app'\nimport 'antd/dist/antd.css';\nimport Layout from '../components/Layout';\nimport { Provider } from 'react-redux';\nimport withRedux from '../lib/with-redux';\nimport Router from 'next/router';\nimport { useState, useEffect } from 'react';\n\nfunction MyApp(_ref) {\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps,\n      reduxStore = _ref.reduxStore;\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var startLoading = function startLoading() {\n    setLoading(true);\n  };\n\n  var stopLoading = function stopLoading() {\n    setLoading(false);\n  };\n\n  useEffect(function () {\n    Router.events.on('routeChangeStart', startLoading);\n    Router.events.on('routeChangeComplete', stopLoading);\n    Router.events.on('routeChangeError', stopLoading);\n    return function () {\n      Router.events.off('routeChangeStart', startLoading);\n      Router.events.off('routeChangeComplete', stopLoading);\n      Router.events.off('routeChangeError', stopLoading);\n    };\n  }, []);\n  Router.events.on('routeChangeStart', function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return console.log(\"routeChangeStart\".concat(args));\n  });\n  Router.events.on('routeChangeComplete', function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return console.log(\"routeChangeComplete\".concat(args));\n  });\n  Router.events.on('routeChangeError', function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return console.log(args);\n  });\n  return __jsx(Provider, {\n    store: reduxStore\n  }, __jsx(Layout, null, loading ? __jsx(_Spin, {\n    tip: \"\\u52A0\\u8F7D\\u4E2D...\"\n  }) : null, __jsx(Component, pageProps)));\n} // MyApp.getInitialProps = async (appContext) => {}\n\n\nexport default withRedux(MyApp);","map":{"version":3,"sources":["D:/编程/项目/next项目/next-github/pages/_app.js"],"names":["Layout","Provider","withRedux","Router","useState","useEffect","MyApp","Component","pageProps","reduxStore","loading","setLoading","startLoading","stopLoading","events","on","off","args","console","log"],"mappings":";;;AAAA;AACA,OAAO,oBAAP;AACA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,SAASC,KAAT,OAAqD;AAAA,MAApCC,SAAoC,QAApCA,SAAoC;AAAA,MAAzBC,SAAyB,QAAzBA,SAAyB;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAAA,kBACnBL,QAAQ,CAAC,KAAD,CADW;AAAA,MAC1CM,OAD0C;AAAA,MACjCC,UADiC;;AAGjD,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvBD,IAAAA,UAAU,CAAC,IAAD,CAAV;AACH,GAFD;;AAGA,MAAME,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtBF,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH,GAFD;;AAIAN,EAAAA,SAAS,CAAC,YAAM;AACZF,IAAAA,MAAM,CAACW,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqCH,YAArC;AACAT,IAAAA,MAAM,CAACW,MAAP,CAAcC,EAAd,CAAiB,qBAAjB,EAAwCF,WAAxC;AACAV,IAAAA,MAAM,CAACW,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqCF,WAArC;AACA,WAAO,YAAM;AACTV,MAAAA,MAAM,CAACW,MAAP,CAAcE,GAAd,CAAkB,kBAAlB,EAAsCJ,YAAtC;AACAT,MAAAA,MAAM,CAACW,MAAP,CAAcE,GAAd,CAAkB,qBAAlB,EAAyCH,WAAzC;AACAV,MAAAA,MAAM,CAACW,MAAP,CAAcE,GAAd,CAAkB,kBAAlB,EAAsCH,WAAtC;AACH,KAJD;AAKH,GATQ,EASN,EATM,CAAT;AAWAV,EAAAA,MAAM,CAACW,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqC;AAAA,sCAAIE,IAAJ;AAAIA,MAAAA,IAAJ;AAAA;;AAAA,WAAaC,OAAO,CAACC,GAAR,2BAA+BF,IAA/B,EAAb;AAAA,GAArC;AACAd,EAAAA,MAAM,CAACW,MAAP,CAAcC,EAAd,CAAiB,qBAAjB,EAAwC;AAAA,uCAAIE,IAAJ;AAAIA,MAAAA,IAAJ;AAAA;;AAAA,WAAaC,OAAO,CAACC,GAAR,8BAAkCF,IAAlC,EAAb;AAAA,GAAxC;AACAd,EAAAA,MAAM,CAACW,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqC;AAAA,uCAAIE,IAAJ;AAAIA,MAAAA,IAAJ;AAAA;;AAAA,WAAaC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAAb;AAAA,GAArC;AAEA,SACI,MAAC,QAAD;AAAU,IAAA,KAAK,EAAER;AAAjB,KACI,MAAC,MAAD,QACKC,OAAO,GAAG;AAAM,IAAA,GAAG,EAAC;AAAV,IAAH,GAA2B,IADvC,EAEI,MAAC,SAAD,EAAeF,SAAf,CAFJ,CADJ,CADJ;AAQH,C,CAED;;;AAEA,eAAeN,SAAS,CAACI,KAAD,CAAxB","sourcesContent":["// import App from 'next/app'\r\nimport 'antd/dist/antd.css'\r\nimport Layout from '../components/Layout'\r\nimport { Provider } from 'react-redux'  \r\nimport withRedux from '../lib/with-redux'\r\nimport Router from 'next/router'\r\nimport { Spin } from 'antd'\r\nimport { useState, useEffect } from 'react'\r\n\r\nfunction MyApp({ Component, pageProps, reduxStore }) {\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const startLoading = () => {\r\n        setLoading(true)\r\n    }\r\n    const stopLoading = () => {\r\n        setLoading(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        Router.events.on('routeChangeStart', startLoading)\r\n        Router.events.on('routeChangeComplete', stopLoading)\r\n        Router.events.on('routeChangeError', stopLoading)\r\n        return () => {\r\n            Router.events.off('routeChangeStart', startLoading)\r\n            Router.events.off('routeChangeComplete', stopLoading)\r\n            Router.events.off('routeChangeError', stopLoading)\r\n        }\r\n    }, [])\r\n\r\n    Router.events.on('routeChangeStart', (...args) => console.log(`routeChangeStart${args}`))\r\n    Router.events.on('routeChangeComplete', (...args) => console.log(`routeChangeComplete${args}`))\r\n    Router.events.on('routeChangeError', (...args) => console.log(args))\r\n\r\n    return (\r\n        <Provider store={reduxStore}>\r\n            <Layout>\r\n                {loading ? <Spin tip=\"加载中...\" /> : null}\r\n                <Component {...pageProps} />\r\n            </Layout>\r\n        </Provider>\r\n    )\r\n}\r\n\r\n// MyApp.getInitialProps = async (appContext) => {}\r\n\r\nexport default withRedux(MyApp)"]},"metadata":{},"sourceType":"module"}